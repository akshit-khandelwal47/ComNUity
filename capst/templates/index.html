{% load socialaccount %}
{% load static %}
{% static 'images' as baseUrl %}

{% if message %}
<script>
  alert('{{ message }}')
</script>
{% endif %}

<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="static/style.css">
    <title>ComNUity</title>
 <style>

  {% comment %} #header-background{
    width: 100%;
    height: 100px;
    background-image: url("https://www.watermeetsmoney.com/wp-content/uploads/2017/11/Header-background-2.png")

  } {% endcomment %}

  body {
    background: rgb(111, 129, 123); 
    background-image: url(https://media.istockphoto.com/photos/purple-and-cyan-light-streaks-background-picture-id1335295890?b=1&k=20&m=1335295890&s=170667a&w=0&h=AA6z9_1UWK0sYMllBo5kmbPnAm3SD4VscEtXk1SvYHM=)
}

  .header img {
    float: left;
    width: 100px;
    height: 95px;
    background: #555;
  }
  
  .header h1 {
    position: relative;
    top: 18px;
    left: 10px;
  } 
 </style>
    
  </head>



  <body style=" background-repeat: no-repeat; background-position:center center fixed; -webkit-background-size: cover; -moz-background-size: cover; -o-background-size: cover; background-size: cover;">
    <div class="header" style="background-color: black; height: 95px;">
      <img src="https://i.imgur.com/EFPGTiX.png" alt="logo" />
      <h1 align="center" style="font-family: Verdana, Geneva, Tahoma, sans-serif; color: white;"> ComNUity, Connect with us!</h1>
      {% comment %} <h6 align="right" style="font-family: Verdana, Geneva, Tahoma, sans-serif;">Connect with us!</h6> {% endcomment %}
    </div>
      {% comment %} <div class="container" style="text-align: center;" >
          <h1 style="font-family: Verdana, Geneva, Tahoma, sans-serif;">Welcome to ComNUity</h1>
      </div> {% endcomment %}
    <section class="vh-100">
        <div class="container py-5 h-100">
          <div class="row d-flex align-items-center justify-content-center h-100">
            <div class="col-md-8 col-lg-7 col-xl-6">
              <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.svg" class="img-fluid" alt="Phone image">
            </div>
            <div class="col-md-7 col-lg-5 col-xl-5 offset-xl-1">
              
              <div class="container">
                        <div class="card-content">
            
              <form action="/postsignIn/" method="POST">
                  {% csrf_token %}
                
                  <!-- Email input -->
                <div class="form-outline mb-4">
                  <input type="email" id="form1Example13" class="form-control form-control-lg" name="email" />
                  <label class="form-label" for="form1Example13" style="color: white">Email address</label>
                </div>
      
                <!-- Password input -->
                <div class="form-outline mb-4">
                  <input type="password" id="form1Example23" class="form-control form-control-lg" name="pass"/>
                  <label class="form-label" for="form1Example23" style="color: white">Password</label>
                </div>
      
                <div class="d-flex justify-content-around align-items-center mb-4">
                  <!-- Checkbox -->
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      value=""
                      id="form1Example3"
                      checked
                    />
                    <label class="form-check-label" for="form1Example3" style="color: white"> Remember me </label>
                  </div>
                  <a href="#!">Forgot password?</a>
                </div>
      
                <!-- Submit button -->
                <div class ="d-grid">
                <input type="submit" class="btn btn-primary btn-lg btn-block" value="Sign in">
                </div>
                <div class="divider d-flex align-items-center my-4">
                  <p class="text-center fw-bold mx-3 mb-0 text-muted">OR</p>
                </div>
            </form>

            <div class ="d-grid">
              <button type="submit" onclick="location.href='{% url 'signup' %} '" class="btn btn-primary btn-lg btn-block">Sign Up</button>
              </div>
              <div class="divider d-flex align-items-center my-4">
              </div>
         
            {% if user.is_authenticated %}
  <p>Welcome, You are logged in as {{ user.username }}</p>
{% else %}
<div class="d-grid"> <a class="btn btn-lg btn-google btn-block btn btn-outline-primary" href="{% provider_login_url 'google' %}"><img src="https://img.icons8.com/color/16/000000/google-logo.png"> Login with Google</a> </div>

{% endif %}
            </div>
          </div>
                {% comment %} <script src="https://accounts.google.com/gsi/client" async defer></script>
                
      <script>
        function handleCredentialResponse(response) {
            // Build Firebase credential with the Google ID token.
            const idToken = response.credential;
            const credential = GoogleAuthProvider.credential(idToken);
          
            // Sign in with credential from the Google user.
            signInWithCredential(auth, credential).catch((error) => {
              // Handle Errors here.
              const errorCode = error.code;
              const errorMessage = error.message;
              // The email of the user's account used.
              const email = error.email;
              // The credential that was used.
              const credential = GoogleAuthProvider.credentialFromError(error);
              // ...
            });
          }
        window.onload = function () {
          google.accounts.id.initialize({
            client_id: "630734063612-78hkkucqdcl9at595ln8vf289fo173kb.apps.googleusercontent.com",
            callback: handleCredentialResponse
          });
          google.accounts.id.renderButton(
            document.getElementById("buttonDiv"),
            { theme: "outline", size: "large" }  // customization attributes
          );
          google.accounts.id.prompt(); // also display the One Tap dialog
        }
    </script>
    <div id="buttonDiv"></div>   {% endcomment %}

               
      
              {% comment %} </form> {% endcomment %}
            </div>
          </div>
        </div>
      </section>

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
    -->
  </body>
</html>